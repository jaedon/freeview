/***************************************************************************
 *     Copyright (c) 2004-2012, Broadcom Corporation
 *     All Rights Reserved
 *     Confidential Property of Broadcom Corporation
 *
 *  THIS SOFTWARE MAY ONLY BE USED SUBJECT TO AN EXECUTED SOFTWARE LICENSE
 *  AGREEMENT  BETWEEN THE USER AND BROADCOM.  YOU HAVE NO RIGHT TO USE OR
 *  EXPLOIT THIS MATERIAL EXCEPT SUBJECT TO THE TERMS OF SUCH AN AGREEMENT.
 *
 * $brcm_Workfile: bvdc_pepalgorithm_priv.c $
 * $brcm_Revision: Hydra_Software_Devel/12 $
 * $brcm_Date: 8/13/12 2:31p $
 *
 * [File Description:]
 *
 * Revision History:
 *
 * $brcm_Log: /magnum/portinginterface/vdc/src/common/bvdc_pepalgorithm_priv.c $
 * 
 * Hydra_Software_Devel/12   8/13/12 2:31p tdo
 * SW7425-3679: sync up TNT programming with the programming guide
 *
 * Hydra_Software_Devel/11   2/16/11 5:14p tdo
 * SW7346-85, SW7422-51 : Software TN2TH Setting
 *
 * Hydra_Software_Devel/10   11/10/09 4:32p tdo
 * SW7400-2574: Adjust TNT based on input and output format
 *
 * Hydra_Software_Devel/9   10/13/09 5:46p tdo
 * SW7335-591: Update CAB color management functions
 *
 * Hydra_Software_Devel/8   7/29/09 3:13p tdo
 * PR57176: Increase gain for Green Boost
 *
 * Hydra_Software_Devel/7   7/30/08 11:36a tdo
 * PR45181: Implement New Dynamic Contrast Algorithm
 *
 * Hydra_Software_Devel/6   2/14/08 4:32p tdo
 * PR39331, PR39332: Regroup PEP block to add support for 3548
 *
 * Hydra_Software_Devel/5   1/23/08 11:14a tdo
 * PR38710: Rename blue stretch and green stretch to blue boost and green
 * boost to match their functionality
 *
 * Hydra_Software_Devel/4   5/31/07 3:28p tdo
 * PR28978: C0: Provide API to realize CMS function
 *
 * Hydra_Software_Devel/3   5/25/07 2:13p tdo
 * PR30613: Move dynamic contrast stretch into its own file
 *
 * Hydra_Software_Devel/2   5/14/07 5:39p tdo
 * PR28404: check boundary to avoid divided by zero error
 *
 * Hydra_Software_Devel/1   4/19/07 2:28p tdo
 * PR29965: Seperate PEP algorithms from PEP block programming
 *
 ***************************************************************************/
#include "bvdc_compositor_priv.h"
#include "bvdc_pep_priv.h"

BDBG_MODULE(BVDC_PEP);

#if (BVDC_P_SUPPORT_PEP && BVDC_P_SUPPORT_PEP_VER <= BVDC_P_SUPPORT_PEP_VER_3)
/***************************************************************************
 * {private}
 * This section is for the CAB algorithms: auto flesh, green boost and
 * blue boost
 */
#define BVDC_P_PEP_NUM_CHROMA_BITS   BCHP_PEP_CMP_0_V0_CAB_LUT_DATA_i_CR_DATA_SHIFT   /* set to 8 for 7038C2; 10 for 3560B0 */
#define BVDC_P_PEP_MAX_GAIN          55   /* keep below 256 to prevent overflow */

#if (BVDC_P_SUPPORT_PEP_VER >= BVDC_P_SUPPORT_PEP_VER_2)
#define BVDC_P_MAKE_CAB_TABLE(val) (val)
#else
/* if 8 bit table, need to drop off the last 2 bits */
/*#define BVDC_P_MAKE_CAB_TABLE(val) ((((val & 0xFFFFF000) >> 2) | (val & 0x3FF)) >> 2)*/
/* or we can round from [9:0] to [7:0] by summing the value of bit[1] to */
/* the value in bits [9:2], the shifting right by 2 */
/* CB = val & 0x000003FF */
/* CR = val & 0x000FFC00 */
/* BP = val & 0xFFF00000 */
/* new_CB = (CB + (CB & 0x002) << 1) >> 2 */
/* new_CR = (CR + (CR & 0x800) << 1) >> 2 */
/* new_BP = BP >> 4 */
/* new_val = new_BP | new_CR | new_CB */
#define BVDC_P_MAKE_CAB_TABLE(val) \
		((val & 0xFFF00000) >> 4) | \
		(((val & 0xFF000) + ((val & 0x800) << 1)) >> 4) | \
		(((val & 0x3FF) + ((val & 0x002) << 1)) >> 2)
#endif

/* Generated using the following parameters: */
/* hue_start = 1.2217 ( 70 degrees) */
/* hue_stop  = 2.9671 (170 degrees) */
/* sat_start =  10 */
/* sat_stop  = 160 */
/* hue_pwm_hue = [   0,   50,   80,   40,   10,  -30,  -80,  -90,  -60,  -30,    0,    0] */
/* hue_pwm_sat = [   0,   30,   60,   90,  100,   80,   60,   40,   20,   10,    0,    0] */
/* gain_hue  = 0.1222 (  7 degrees) */
/* sat_pwm_hue = [   0,   20,   60,  100,  100,   80,   60,   40,   20,   10,    0,    0] */
/* sat_pwm_sat = [   0,   30,   50,   50,   45,   40,   35,   30,   20,   10,    0,    0] */
/* gain_sat  =  40 */

static const uint16_t LUT8_redBoost_cb_delta[1024] = {
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffbb,   0xff78,   0xff15,   0xfd80,   0xff5c,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xff39,   0xfe99,   0xff08,   0xfe69,   0xfdfb,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xff5c,   0xffa6,   0xfe6b,   0xfdcc,   0xffde,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfff4,   0xfec7,   0xff0e,   0xff88,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000
};

static const uint16_t LUT8_redBoost_cr_delta[1024] = {
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0094,   0x0108,   0x01c9,   0x047c,   0x03eb,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x00f5,   0x02c4,   0x0448,   0x042c,   0x049a,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x01a2,   0x034c,   0x031d,   0x038c,   0x0060,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x013b,   0x019d,   0x021f,   0x0157,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000
};

/*************************************************************************
 * {secret}
 * BVDC_P_Cab_FleshToneCalculation
 * Builds CAB table for the auto-flesh function
 **************************************************************************/
static void BVDC_P_Cab_FleshToneCalculation
	( const uint32_t             ulFleshTone,
	  uint32_t                  *puiCabTable )
{
	uint32_t id;
	uint32_t regVal;
	uint16_t cr, cb;
	int16_t  cr_new, cb_new;
	int32_t  cr_delta, cb_delta;

	BDBG_ENTER(BVDC_P_Cab_FleshToneCalculation);

	/* Slider can be fixed to add more granularity
	 * right now the slider can take on the following values: 0,1,2,3,4
	 * This range should be expanded for around 20 or so discrete values.
	 */

	/* Note: FleshTone is called first, so it must fill in puiCabTable with */
	/* something for every location! */
	if(ulFleshTone <= 4)
	{
		for(id = 0; id < BVDC_P_CAB_TABLE_SIZE; id++)
		{
			cr_delta = LUT8_redBoost_cr_delta[id];
			cb_delta = LUT8_redBoost_cb_delta[id];

			if((cb_delta == 0) && (cr_delta == 0))
			{
				/* Fill CAB table with "bypass" if not in FleshTone region */
				*(puiCabTable + id) = (1 << (2 * BVDC_P_PEP_NUM_CHROMA_BITS));
			}
			else
			{
				/* Fill CAB table with FleshTone values inside region */
				cr = (id >> 5) << (BVDC_P_PEP_NUM_CHROMA_BITS - 5);
				cb = (id % 32) << (BVDC_P_PEP_NUM_CHROMA_BITS - 5);

				if(cr_delta > 32768) cr_delta -= 65536;
				cr_delta = (ulFleshTone * cr_delta) / 4;

				if(cb_delta > 32768) cb_delta -= 65536;
				cb_delta = (ulFleshTone * cb_delta) / 4;

				cr_new = ((cr << 8) + cr_delta) >> 8;
				cb_new = ((cb << 8) + cb_delta) >> 8;

				/* perform clipping */
				if(cr_new < 0) cr_new = 0;
				if(cr_new >= (1 << BVDC_P_PEP_NUM_CHROMA_BITS))
					cr_new = (1 << BVDC_P_PEP_NUM_CHROMA_BITS) - 1;

				if(cb_new < 0) cb_new = 0;
				if(cb_new >= (1 << BVDC_P_PEP_NUM_CHROMA_BITS))
					cb_new = (1 << BVDC_P_PEP_NUM_CHROMA_BITS) - 1;

				regVal = (cr_new << BVDC_P_PEP_NUM_CHROMA_BITS) | cb_new;
				*(puiCabTable + id) = regVal;
			}
		}
	}
	BDBG_LEAVE(BVDC_P_Cab_FleshToneCalculation);
}


/* Generated using the following parameters: */
/* hue_start = 2.9671 (170 degrees) */
/* hue_stop  = 4.8869 (280 degrees) */
/* sat_start =  25 */
/* sat_stop  = 725 */
/* hue_pwm_hue = [   0,   25,   50,   25,   10,    0,  -10,  -25,  -50,  -25,    0,    0] */
/* hue_pwm_sat = [   0,   20,   40,   60,   80,  100,  100,   80,   60,   40,   20,   20] */
/* gain_hue  = 0.0000 (  0 degrees) */
/* sat_pwm_hue = [   0,   20,   60,  100,  100,  100,  100,  100,   60,   20,    0,    0] */
/* sat_pwm_sat = [   0,   30,   50,   40,   30,   20,   10,    5,    0,    0,    0,    0] */
/* gain_sat  = 200 */

static const uint16_t LUT8_greenBoost_cb_delta[1024] = {
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffcd,   0xffa0,   0xff85,   0xff7c,   0xff81,   0xff94,   0xffb2,   0xffd7,   0x0000,   0x0029,   0x004e,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffd7,   0xff89,   0xff50,   0xff2a,   0xff19,   0xff1b,   0xff30,   0xff55,   0xff86,   0xffc1,   0x0000,   0x003f,   0x004a,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffaa,   0xff49,   0xfefd,   0xfec7,   0xfea8,   0xfea1,   0xfeb0,   0xfed5,   0xff0d,   0xff55,   0xffa8,   0x0000,   0x0058,   0x003e,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0xff8b,   0xff13,   0xfeb1,   0xfe65,   0xfe31,   0xfe18,   0xfe1a,   0xfe37,   0xfe53,   0xfe96,   0xfefa,   0xff77,   0x0000,   0x0064,   0x002c,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0xff81,   0xfef1,   0xfe74,   0xfe0e,   0xfdc0,   0xfd8e,   0xfd77,   0xfd43,   0xfd48,   0xfd83,   0xfdef,   0xfe86,   0xff3b,   0x0000,   0x0065,   0x0015,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0xff92,   0xfee8,   0xfe50,   0xfdcc,   0xfd60,   0xfd0e,   0xfca6,   0xfc40,   0xfc19,   0xfc35,   0xfc92,   0xfd2e,   0xfdfe,   0xfef5,   0x0000,   0x0065,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0xffc2,   0xff00,   0xfe4c,   0xfdaa,   0xfd1d,   0xfca8,   0xfbf7,   0xfb4e,   0xfae8,   0xfaca,   0xfafa,   0xfb7b,   0xfc49,   0xfd5b,   0xfea0,   0x0000,   0x0063,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0xff3a,   0xfe6d,   0xfdae,   0xfd00,   0xfc67,   0xfb84,   0xfa8f,   0xf9d9,   0xf96a,   0xf94f,   0xf990,   0xfa34,   0xfb39,   0xfc97,   0xfe39,   0x0000,   0x005e,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xff99,   0xfeb5,   0xfddc,   0xfd10,   0xfc55,   0xfb65,   0xfa22,   0xf914,   0xf846,   0xf7c7,   0xf7a5,   0xf7ef,   0xf8b1,   0xf9f1,   0xfba6,   0xfdb9,   0x0000,   0x0053,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xff25,   0xfe36,   0xfd50,   0xfc76,   0xfba7,   0xfa1c,   0xf8b9,   0xf789,   0xf69a,   0xf5fd,   0xf5c6,   0xf60c,   0xf6e4,   0xf85e,   0xfa77,   0xfd15,   0x0000,   0x003e,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfeb9,   0xfdbf,   0xfccc,   0xfbe3,   0xfa87,   0xf8d9,   0xf750,   0xf5f7,   0xf4db,   0xf412,   0xf3b4,   0xf3e1,   0xf4bd,   0xf668,   0xf8f0,   0xfc3d,   0x0000,   0x0015,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfe58,   0xfd52,   0xfc53,   0xfb5b,   0xf979,   0xf7a8,   0xf5f4,   0xf46a,   0xf317,   0xf211,   0xf174,   0xf16b,   0xf22a,   0xf3ee,   0xf6e9,   0xfb26,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfe04,   0xfcf5,   0xfbe9,   0xfa8e,   0xf888,   0xf692,   0xf4b4,   0xf2f5,   0xf162,   0xf010,   0xef1b,   0xeeb4,   0xef22,   0xf16e,   0xf638,   0xfb15,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfdc0,   0xfca8,   0xfb92,   0xf9df,   0xf7be,   0xf5a7,   0xf39f,   0xf1ac,   0xefd8,   0xee30,   0xecd0,   0xebe3,   0xec92,   0xf147,   0xf611,   0xfafa,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfd8e,   0xfc6f,   0xfb51,   0xf95b,   0xf725,   0xf4f3,   0xf2c9,   0xf0a9,   0xee99,   0xeca1,   0xead1,   0xe946,   0xec70,   0xf119,   0xf613,   0xfb8a,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfd6f,   0xfc4c,   0xfb29,   0xf909,   0xf6c5,   0xf482,   0xf241,   0xf003,   0xedc9,   0xeb96,   0xe96e,   0xe7be,   0xec54,   0xf0ee,   0xf714,   0xfcee,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfd65,   0xfc40,   0xfb1b,   0xf8ee,   0xf6e9,   0xf6e9,   0xf6e9,   0xf6e9,   0xf6e9,   0xf6e9,   0xf6e9,   0xf6e9,   0xf6e9,   0xf6e9,   0xf7a5,   0xfe80,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfd6f,   0xfc4c,   0xfb29,   0xfaec,   0xfb42,   0xfba6,   0xfc1f,   0xfcb1,   0xfd68,   0xfe51,   0xff85,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xfd8e,   0xfdd5,   0xfe51,   0xfee0,   0xff85,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000
};

static const uint16_t LUT8_greenBoost_cr_delta[1024] = {
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xff99,   0xff25,   0xfeb9,   0xfe58,   0xfe04,   0xfdc0,   0xfd8e,   0xfd6f,   0xfd65,   0xfd6f,   0xfd8e,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffc2,   0xff3a,   0xfeb5,   0xfe36,   0xfdbf,   0xfd52,   0xfcf5,   0xfca8,   0xfc6f,   0xfc4c,   0xfc40,   0xfc4c,   0xfdd5,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xff92,   0xff00,   0xfe6d,   0xfddc,   0xfd50,   0xfccc,   0xfc53,   0xfbe9,   0xfb92,   0xfb51,   0xfb29,   0xfb1b,   0xfb29,   0xfe51,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0xff81,   0xfee8,   0xfe4c,   0xfdae,   0xfd10,   0xfc76,   0xfbe3,   0xfb5b,   0xfa8e,   0xf9df,   0xf95b,   0xf909,   0xf8ee,   0xfaec,   0xfee0,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0xff8b,   0xfef1,   0xfe50,   0xfdaa,   0xfd00,   0xfc55,   0xfba7,   0xfa87,   0xf979,   0xf888,   0xf7be,   0xf725,   0xf6c5,   0xf6e9,   0xfb42,   0xff85,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0xffaa,   0xff13,   0xfe74,   0xfdcc,   0xfd1d,   0xfc67,   0xfb65,   0xfa1c,   0xf8d9,   0xf7a8,   0xf692,   0xf5a7,   0xf4f3,   0xf482,   0xf6e9,   0xfba6,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0xffd7,   0xff49,   0xfeb1,   0xfe0e,   0xfd60,   0xfca8,   0xfb84,   0xfa22,   0xf8b9,   0xf750,   0xf5f4,   0xf4b4,   0xf39f,   0xf2c9,   0xf241,   0xf6e9,   0xfc1f,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0xff89,   0xfefd,   0xfe65,   0xfdc0,   0xfd0e,   0xfbf7,   0xfa8f,   0xf914,   0xf789,   0xf5f7,   0xf46a,   0xf2f5,   0xf1ac,   0xf0a9,   0xf003,   0xf6e9,   0xfcb1,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xffcd,   0xff50,   0xfec7,   0xfe31,   0xfd8e,   0xfca6,   0xfb4e,   0xf9d9,   0xf846,   0xf69a,   0xf4db,   0xf317,   0xf162,   0xefd8,   0xee99,   0xedc9,   0xf6e9,   0xfd68,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xffa0,   0xff2a,   0xfea8,   0xfe18,   0xfd77,   0xfc40,   0xfae8,   0xf96a,   0xf7c7,   0xf5fd,   0xf412,   0xf211,   0xf010,   0xee30,   0xeca1,   0xeb96,   0xf6e9,   0xfe51,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xff85,   0xff19,   0xfea1,   0xfe1a,   0xfd43,   0xfc19,   0xfaca,   0xf94f,   0xf7a5,   0xf5c6,   0xf3b4,   0xf174,   0xef1b,   0xecd0,   0xead1,   0xe96e,   0xf6e9,   0xff85,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xff7c,   0xff1b,   0xfeb0,   0xfe37,   0xfd48,   0xfc35,   0xfafa,   0xf990,   0xf7ef,   0xf60c,   0xf3e1,   0xf16b,   0xeeb4,   0xebe3,   0xe946,   0xe7be,   0xf6e9,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xff81,   0xff30,   0xfed5,   0xfe53,   0xfd83,   0xfc92,   0xfb7b,   0xfa34,   0xf8b1,   0xf6e4,   0xf4bd,   0xf22a,   0xef22,   0xec92,   0xec70,   0xec54,   0xf6e9,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xff94,   0xff55,   0xff0d,   0xfe96,   0xfdef,   0xfd2e,   0xfc49,   0xfb39,   0xf9f1,   0xf85e,   0xf668,   0xf3ee,   0xf16e,   0xf147,   0xf119,   0xf0ee,   0xf6e9,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xffb2,   0xff86,   0xff55,   0xfefa,   0xfe86,   0xfdfe,   0xfd5b,   0xfc97,   0xfba6,   0xfa77,   0xf8f0,   0xf6e9,   0xf638,   0xf611,   0xf613,   0xf714,   0xf7a5,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0xffd7,   0xffc1,   0xffa8,   0xff77,   0xff3b,   0xfef5,   0xfea0,   0xfe39,   0xfdb9,   0xfd15,   0xfc3d,   0xfb26,   0xfb15,   0xfafa,   0xfb8a,   0xfcee,   0xfe80,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0029,   0x003f,   0x0058,   0x0064,   0x0065,   0x0065,   0x0063,   0x005e,   0x0053,   0x003e,   0x0015,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x004e,   0x004a,   0x003e,   0x002c,   0x0015,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000
};

/*************************************************************************
 * {secret}
 * BVDC_P_Cab_GreenBoostCalculation
 * Builds CAB table for green boost function
 **************************************************************************/
static void BVDC_P_Cab_GreenBoostCalculation
	( const uint32_t             ulGreenBoost,
	  uint32_t                  *puiCabTable )
{
	uint32_t id;
	uint32_t regVal;
	uint16_t cr, cb;
	int16_t  cr_new, cb_new;
	int32_t  cr_delta, cb_delta;

	BDBG_ENTER(BVDC_P_Cab_GreenBoostCalculation);

	/* Slider can be fixed to add more granularity
	 * right now the slider can take on the following values: 0,1,2,3,4
	 * This range should be expanded for around 20 or so discrete values.
	 * For now we will simply map the input values to the control parameter
	 * range we normally want to use which is from -32768...32767.
	 * We most likely will only want the positive range. i.e. 0..32767.
	 */

	/* Do nothing for Green Boost at 0, or out of range */
	if((ulGreenBoost <= 4) && (ulGreenBoost > 0))
	{
		for(id = 0; id < BVDC_P_CAB_TABLE_SIZE; id++)
		{
			cr_delta = LUT8_greenBoost_cr_delta[id];
			cb_delta = LUT8_greenBoost_cb_delta[id];

			if(!((cb_delta == 0) && (cr_delta == 0)))
			{
				if(*(puiCabTable + id) == (1 << (2 * BVDC_P_PEP_NUM_CHROMA_BITS)))
				{
					/* Calculate cb/cr if this location has not been modified by previous CAB function */
					cr = (id >> 5) << (BVDC_P_PEP_NUM_CHROMA_BITS - 5);
					cb = (id % 32) << (BVDC_P_PEP_NUM_CHROMA_BITS - 5);
				}
				else
				{
					/* Read previously calculated cb/cr from CAB table.  Overlapping regions allowed */
					cr = *(puiCabTable + id) >> BVDC_P_PEP_NUM_CHROMA_BITS;
					cb = *(puiCabTable + id) - (cr << BVDC_P_PEP_NUM_CHROMA_BITS);
				}

				if(cr_delta > 32768) cr_delta -= 65536;
				cr_delta = (ulGreenBoost * cr_delta) / 4;

				if(cb_delta > 32768) cb_delta -= 65536;
				cb_delta = (ulGreenBoost * cb_delta) / 4;

				cr_new = ((cr << 8) + cr_delta) >> 8;
				cb_new = ((cb << 8) + cb_delta) >> 8;

				/* perform clipping */
				if(cr_new < 0) cr_new = 0;
				if(cr_new >= (1 << BVDC_P_PEP_NUM_CHROMA_BITS))
					cr_new = (1 << BVDC_P_PEP_NUM_CHROMA_BITS) - 1;

				if(cb_new < 0) cb_new = 0;
				if(cb_new >= (1 << BVDC_P_PEP_NUM_CHROMA_BITS))
					cb_new = (1 << BVDC_P_PEP_NUM_CHROMA_BITS) - 1;

				regVal = (cr_new << BVDC_P_PEP_NUM_CHROMA_BITS) | cb_new;
				*(puiCabTable + id) = regVal;
			}
		}
	}
	BDBG_LEAVE(BVDC_P_Cab_GreenBoostCalculation);
}


/* Generated using the following parameters: */
/* hue_start = 4.5379 (260 degrees) */
/* hue_stop  = 0.1745 ( 10 degrees) */
/* sat_start =  25 */
/* sat_stop  = 725 */
/* hue_pwm_hue = [   0,   50,   80,   60,   20,    0,  -20,  -60,  -80,  -50,    0,    0] */
/* hue_pwm_sat = [   0,   20,   40,   60,   60,   40,   30,   20,   10,    0,    0,    0] */
/* gain_hue  = 0.1396 (  8 degrees) */
/* sat_pwm_hue = [   0,   20,   60,  100,  100,  100,  100,  100,   60,   20,    0,    0] */
/* sat_pwm_sat = [   0,   40,   80,   60,   40,   30,   20,   10,    0,    0,    0,    0] */
/* gain_sat  = 100 */

static const uint16_t LUT8_blueBoost_cb_delta[1024] = {
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0233,   0x038a,   0x03ba,   0x03db,   0x03eb,   0x03e5,   0x03c9,   0x0393,   0x0342,   0x02d6,   0x024e,   0x01b8,   0x014e,   0x00dc,   0x0062,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x01b5,   0x0414,   0x0452,   0x0488,   0x04ac,   0x04ba,   0x04ae,   0x0485,   0x0440,   0x03dc,   0x035c,   0x02bf,   0x0206,   0x016d,   0x00f6,   0x0079,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0138,   0x041e,   0x04d0,   0x0523,   0x055e,   0x0580,   0x0586,   0x056c,   0x0532,   0x04d7,   0x045d,   0x03c3,   0x030d,   0x023c,   0x013f,   0x009a,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x00bf,   0x0399,   0x052c,   0x05aa,   0x05ff,   0x0639,   0x0652,   0x0649,   0x061a,   0x05c8,   0x0553,   0x045d,   0x034a,   0x0230,   0x0110,   0x0000,   0xff70,   0xff97,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x004a,   0x0313,   0x056f,   0x0620,   0x0693,   0x06e7,   0x0716,   0x071d,   0x06fb,   0x06b0,   0x055b,   0x0447,   0x033c,   0x0229,   0x010f,   0xffef,   0xfeec,   0xff39,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x028e,   0x05df,   0x06ee,   0x076f,   0x07be,   0x07d7,   0x07ec,   0x07d5,   0x0680,   0x053b,   0x0444,   0x0341,   0x0234,   0x011e,   0x0002,   0xfee9,   0xfef1,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x020a,   0x055d,   0x07c6,   0x0875,   0x08e5,   0x0915,   0x0903,   0x0797,   0x0624,   0x0544,   0x0455,   0x0358,   0x0250,   0x013f,   0x0026,   0xff4c,   0xfefa,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0187,   0x04db,   0x07e7,   0x0929,   0x09ed,   0x0a2c,   0x089c,   0x070b,   0x063b,   0x0565,   0x047d,   0x0385,   0x0281,   0x0172,   0x005c,   0xffc2,   0xff60,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0108,   0x0459,   0x0783,   0x097a,   0x0a85,   0x09dc,   0x0826,   0x0725,   0x0670,   0x05a1,   0x04bd,   0x03c8,   0x02c6,   0x01ab,   0x00b1,   0x004a,   0xffd5,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x008e,   0x03d7,   0x06ff,   0x09f0,   0x0b49,   0x09ed,   0x089d,   0x07af,   0x06c6,   0x05fb,   0x0518,   0x0423,   0x02e2,   0x01ca,   0x015c,   0x00df,   0x0055,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0020,   0x0355,   0x0628,   0x09fc,   0x0b68,   0x0a43,   0x09b1,   0x08c3,   0x0784,   0x0673,   0x0582,   0x0428,   0x030f,   0x0299,   0x0212,   0x017d,   0x00dd,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0266,   0x05c8,   0x0a9b,   0x0be2,   0x0b91,   0x0b0c,   0x0a0e,   0x08b7,   0x06e3,   0x0583,   0x045a,   0x0404,   0x0370,   0x02ce,   0x0220,   0x0168,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0180,   0x05b1,   0x09bd,   0x0c8b,   0x0d55,   0x0cb3,   0x0b83,   0x099a,   0x078d,   0x05ba,   0x0561,   0x04fa,   0x0448,   0x0389,   0x02c1,   0x01f3,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x00cf,   0x047b,   0x082d,   0x0b30,   0x0eaf,   0x0e53,   0x0c86,   0x0a87,   0x08d8,   0x0705,   0x0670,   0x05da,   0x0518,   0x043d,   0x035c,   0x0277,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0052,   0x0361,   0x069e,   0x0a0b,   0x0dee,   0x109e,   0x0ec3,   0x0ca6,   0x0aae,   0x08a3,   0x0778,   0x06b4,   0x05d7,   0x04e2,   0x03ea,   0x02ef,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0006,   0x020c,   0x05be,   0x09f6,   0x0e47,   0x0d6a,   0x0bb3,   0x0a61,   0x0972,   0x08bf,   0x0848,   0x0779,   0x067f,   0x0573,   0x0466,   0x0358,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0100,   0x048b,   0x0489,   0x0484,   0x047b,   0x0471,   0x046c,   0x0468,   0x0464,   0x0460,   0x045c,   0x0466,   0x046c,   0x0472,   0x03ad,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0045,   0x00ef,   0x016f,   0x01d3,   0x0222,   0x0262,   0x0297,   0x02c3,   0x02e8,   0x0304,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x004c,   0x00b0,   0x0106,   0x0151,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000
};

static const uint16_t LUT8_blueBoost_cr_delta[1024] = {
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfe6e,   0xfd41,   0xfd72,   0xfdb8,   0xfe0e,   0xfe73,   0xfee2,   0xff57,   0xffcd,   0x0040,   0x00ac,   0x00fb,   0x00d3,   0x0098,   0x004a,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfeaf,   0xfcfc,   0xfc53,   0xfca8,   0xfd11,   0xfd89,   0xfe0d,   0xfe98,   0xff23,   0xffab,   0x002b,   0x00a0,   0x0106,   0x010f,   0x00c7,   0x0069,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfefa,   0xfd18,   0xfb8e,   0xfb9a,   0xfc16,   0xfca4,   0xfd3f,   0xfde0,   0xfe83,   0xff21,   0xffb6,   0x003e,   0x00b4,   0x0117,   0x0114,   0x0090,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xff50,   0xfd3d,   0xfb94,   0xfa8d,   0xfb1e,   0xfbc3,   0xfc77,   0xfd32,   0xfdee,   0xfea4,   0xff4f,   0xffa4,   0xffda,   0xfffe,   0x0011,   0x0000,   0xff66,   0xff87,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffb4,   0xfd69,   0xfb9a,   0xf981,   0xfa29,   0xfae8,   0xfbb8,   0xfc90,   0xfd67,   0xfe36,   0xfe55,   0xfe8e,   0xfec1,   0xfee2,   0xfef1,   0xfef0,   0xfec1,   0xff0a,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfd9e,   0xfba4,   0xf887,   0xf94c,   0xfa26,   0xfb06,   0xfbfc,   0xfcf1,   0xfd1e,   0xfd3a,   0xfd7f,   0xfdb0,   0xfdcc,   0xfdd7,   0xfdd0,   0xfdc4,   0xfe93,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfdde,   0xfba0,   0xf7b8,   0xf888,   0xf990,   0xfa9f,   0xfba6,   0xfbd8,   0xfbdd,   0xfc38,   0xfc7b,   0xfca8,   0xfcbf,   0xfcc4,   0xfcb6,   0xfcf3,   0xfdfa,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfe2d,   0xfb9c,   0xf741,   0xf75d,   0xf8fb,   0xfa46,   0xfa7d,   0xfa7e,   0xfae8,   0xfb43,   0xfb83,   0xfbab,   0xfbbc,   0xfbb9,   0xfba3,   0xfc3d,   0xfd41,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfe91,   0xfb98,   0xf68e,   0xf552,   0xf728,   0xf873,   0xf91d,   0xf98d,   0xfa05,   0xfa5f,   0xfa9b,   0xfabc,   0xfac5,   0xfaa5,   0xfaad,   0xfba3,   0xfca4,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xff11,   0xfb94,   0xf59f,   0xf35a,   0xf579,   0xf666,   0xf749,   0xf87c,   0xf93a,   0xf990,   0xf9c5,   0xf9dc,   0xf980,   0xf950,   0xfa38,   0xfb29,   0xfc24,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffbb,   0xfb8f,   0xf44d,   0xf13d,   0xf37a,   0xf47d,   0xf5f2,   0xf73d,   0xf851,   0xf8db,   0xf8f5,   0xf869,   0xf82b,   0xf905,   0xf9e6,   0xface,   0xfbc0,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfb85,   0xf296,   0xef62,   0xf1ad,   0xf34d,   0xf4f4,   0xf64f,   0xf763,   0xf7da,   0xf764,   0xf6fd,   0xf814,   0xf8e3,   0xf9b7,   0xfa94,   0xfb7b,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfb7c,   0xf1b9,   0xf212,   0xf151,   0xf2ab,   0xf46f,   0xf5bd,   0xf613,   0xf624,   0xf5d4,   0xf6eb,   0xf829,   0xf8ea,   0xf9ae,   0xfa7a,   0xfb52,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfb77,   0xf60a,   0xf5f5,   0xf4d0,   0xf375,   0xf41e,   0xf498,   0xf4b7,   0xf57b,   0xf613,   0xf71b,   0xf842,   0xf919,   0xf9c7,   0xfa80,   0xfb46,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfb75,   0xfa42,   0xf962,   0xf7d3,   0xf643,   0xf565,   0xf604,   0xf610,   0xf686,   0xf6d7,   0xf78b,   0xf891,   0xf96d,   0xfa01,   0xfaa2,   0xfb54,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xff00,   0xfdf4,   0xfc9f,   0xfb85,   0xfa4f,   0xfa38,   0xf9d8,   0xf901,   0xf87d,   0xf819,   0xf83a,   0xf912,   0xf9e0,   0xfa56,   0xfadd,   0xfb78,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xfffa,   0xffae,   0xff31,   0xfe80,   0xfd9a,   0xfcab,   0xfc29,   0xfba7,   0xfb25,   0xfaa3,   0xfa21,   0xfa91,   0xfad4,   0xfb30,   0xfbae,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffe0,   0xff72,   0xfef8,   0xfe79,   0xfdf6,   0xfd72,   0xfced,   0xfc67,   0xfbe2,   0xfbec,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0xffb6,   0xff41,   0xfec8,   0xfe4b,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,
  0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000,   0x0000
};

/*************************************************************************
 * {secret}
 * BVDC_P_Cab_BlueBoostCalculation
 * Builds CAB table for blue boost function
 **************************************************************************/
static void BVDC_P_Cab_BlueBoostCalculation
	( const uint32_t             ulBlueBoost,
	  uint32_t                  *puiCabTable )
{
	uint32_t id;
	uint32_t regVal;
	uint16_t cr, cb;
	int16_t  cr_new, cb_new;
	int32_t  cr_delta, cb_delta;

	BDBG_ENTER(BVDC_P_Cab_BlueBoostCalculation);

	/* Slider should be fixed to add more granularity
	 * right now the slider can take on the following values: 0,1,2,3,4
	 * This range should be expanded for around 20 or so discrete values.
	 * For now we will simply map the input values to the control parameter
	 * range we normally want to use which is from -32768...32767.
	 * We most likely will only want the positive range. i.e. 0..32767.
	 */

	/* Do nothing for Blue Boost at 0, or out of range */
	if((ulBlueBoost <= 4) && (ulBlueBoost > 0))
	{
		for(id = 0; id < BVDC_P_CAB_TABLE_SIZE; id++)
		{
			cr_delta = LUT8_blueBoost_cr_delta[id];
			cb_delta = LUT8_blueBoost_cb_delta[id];

			if(!((cb_delta == 0) && (cr_delta == 0)))
			{
				if(*(puiCabTable + id) == (1 << (2 * BVDC_P_PEP_NUM_CHROMA_BITS)))
				{
					/* Calculate cb/cr if this location has not been modified by previous CAB function */
					cr = (id >> 5) << (BVDC_P_PEP_NUM_CHROMA_BITS - 5);
					cb = (id % 32) << (BVDC_P_PEP_NUM_CHROMA_BITS - 5);
				}
				else
				{
					/* Read previously calculated cb/cr from CAB table.  Overlapping regions allowed */
					cr = *(puiCabTable + id) >> BVDC_P_PEP_NUM_CHROMA_BITS;
					cb = *(puiCabTable + id) - (cr << BVDC_P_PEP_NUM_CHROMA_BITS);
				}

				if(cr_delta > 32768) cr_delta -= 65536;
				cr_delta = (ulBlueBoost * cr_delta) / 4;

				if(cb_delta > 32768) cb_delta -= 65536;
				cb_delta = (ulBlueBoost * cb_delta) / 4;

				cr_new = ((cr << 8) + cr_delta) >> 8;
				cb_new = ((cb << 8) + cb_delta) >> 8;

				/* perform clipping */
				if(cr_new < 0) cr_new = 0;
				if(cr_new >= (1 << BVDC_P_PEP_NUM_CHROMA_BITS))
					cr_new = (1 << BVDC_P_PEP_NUM_CHROMA_BITS) - 1;

				if(cb_new < 0) cb_new = 0;
				if(cb_new >= (1 << BVDC_P_PEP_NUM_CHROMA_BITS))
					cb_new = (1 << BVDC_P_PEP_NUM_CHROMA_BITS) - 1;

				regVal = (cr_new << BVDC_P_PEP_NUM_CHROMA_BITS) | cb_new;
				*(puiCabTable + id) = regVal;
			}
		}
	}
	BDBG_LEAVE(BVDC_P_Cab_BlueBoostCalculation);
}


/***************************************************************************
 * {private}
 * BVDC_P_Pep_ComposeCabTable
 * This function composes the CAB table from user settings
 * This function only works for 10-bit CAB environment.
 */
BERR_Code BVDC_P_Pep_ComposeCabTable
	( const uint32_t               ulFleshtone,
	  const uint32_t               ulGreenBoost,
	  const uint32_t               ulBlueBoost,
	  uint32_t                    *pulCabTable )
{
	BDBG_ENTER(BVDC_P_Pep_ComposeCabTable);

	/*
	 * The BVDC_P_Cab_FleshToneCalculation function should be called first
	 * i.e. before the BVDC_P_Cab_GreenBoostCalculation.  This is because
	 * it will initialize the CAB table and clear out the old values.
	 */
	BDBG_MSG(("Composed CAB table for new Fleshtone = %d, BlueBoost = %d, GreenBoost = %d",
		ulFleshtone, ulBlueBoost, ulGreenBoost));
	BVDC_P_Cab_FleshToneCalculation(ulFleshtone, pulCabTable);
	BVDC_P_Cab_GreenBoostCalculation(ulGreenBoost, pulCabTable);
	BVDC_P_Cab_BlueBoostCalculation(ulBlueBoost, pulCabTable);

	BDBG_LEAVE(BVDC_P_Pep_ComposeCabTable);
	return BERR_SUCCESS;
}
#endif /* (BVDC_P_SUPPORT_PEP) */


/***************************************************************************
 * {private}
 * This section is for the sharpness algorithms
 */
#define BVDC_P_SHARPNESS_VAL_MIN                 INT16_MIN
#define BVDC_P_SHARPNESS_VAL_MAX                 INT16_MAX
#define BVDC_P_SHARPNESS_CENTER_INDEX            3
#define BVDC_P_SHARPNESS_MAX_INDEX               19
#define BVDC_P_SHAPRNESS_NUM_PEAKING_VALUE_PAIRS 48

static const uint32_t aulSharpnessPeakingPairs[][2] = {
	{0,  0},   /* [ 0] 0.000 */
	{4,  1},   /* [ 1] 0.063 */
	{3,  1},   /* [ 2] 0.125 */
	{4,  3},   /* [ 3] 0.188 */
	{2,  1},   /* [ 4] 0.250 */
	{4,  5},   /* [ 5] 0.313 */
	{3,  3},   /* [ 6] 0.375 */
	{4,  7},   /* [ 7] 0.438 */
	{1,  1},   /* [ 8] 0.500 */
	{4,  9},   /* [ 9] 0.563 */
	{3,  5},   /* [10] 0.625 */
	{4, 11},   /* [11] 0.688 */
	{2,  3},   /* [12] 0.750 */
	{4, 13},   /* [13] 0.813 */
	{3,  7},   /* [14] 0.875 */
	{4, 15},   /* [15] 0.938 */
	{0,  1},   /* [16] 1.000 */
	{3,  9},   /* [17] 1.125 */
	{2,  5},   /* [18] 1.250 */
	{3, 11},   /* [19] 1.375 */
	{1,  3},   /* [20] 1.500 */
	{3, 13},   /* [21] 1.625 */
	{2,  7},   /* [22] 1.750 */
	{3, 15},   /* [23] 1.875 */
	{0,  2},   /* [24] 2.000 */
	{2,  9},   /* [25] 2.250 */
	{1,  5},   /* [26] 2.500 */
	{2, 11},   /* [27] 2.750 */
	{0,  3},   /* [28] 3.000 */
	{2, 13},   /* [29] 3.250 */
	{1,  7},   /* [30] 3.500 */
	{2, 15},   /* [31] 3.750 */
	{0,  4},   /* [32] 4.000 */
	{1,  9},   /* [33] 4.500 */
	{0,  5},   /* [34] 5.000 */
	{1, 11},   /* [35] 5.500 */
	{0,  6},   /* [36] 6.000 */
	{1, 13},   /* [37] 6.500 */
	{0,  7},   /* [38] 7.000 */
	{1, 15},   /* [39] 7.500 */
	{0,  8},   /* [40] 8.000 */
	{0,  9},   /* [41] 9.000 */
	{0, 10},   /* [42] 10.000 */
	{0, 11},   /* [43] 11.000 */
	{0, 12},   /* [44] 12.000 */
	{0, 13},   /* [45] 13.000 */
	{0, 14},   /* [46] 14.000 */
	{0, 15}    /* [47] 15.000 */
};


/*************************************************************************
 *  {secret}
 *	BVDC_P_Sharpness_Calculate_Peak_Values
 *	Calculate PEAK_SETTING and PEAK_SCALE values from sSharpness value
 *	for TAB_LUMA_PEAK_CORRECTION_REG
 **************************************************************************/
void BVDC_P_Sharpness_Calculate_Peak_Values
	( const int16_t     sSharpness,
	  uint32_t         *ulPeakSetting,
	  uint32_t         *ulPeakScale )
{
	uint32_t uiTableId;

	uiTableId = (sSharpness <= 0) ?
	            ((BVDC_P_SHARPNESS_VAL_MIN - sSharpness) *
	             BVDC_P_SHARPNESS_CENTER_INDEX / BVDC_P_SHARPNESS_VAL_MIN) :
	            ((BVDC_P_SHARPNESS_MAX_INDEX - BVDC_P_SHARPNESS_CENTER_INDEX) *
	             sSharpness / BVDC_P_SHARPNESS_VAL_MAX +
	             BVDC_P_SHARPNESS_CENTER_INDEX);

	if (uiTableId >= BVDC_P_SHAPRNESS_NUM_PEAKING_VALUE_PAIRS)
	{
		uiTableId = BVDC_P_SHAPRNESS_NUM_PEAKING_VALUE_PAIRS - 1;
	}

	/* use the table to look up the two peaking parameters: scale and setting */
	*ulPeakScale   = aulSharpnessPeakingPairs[uiTableId][0];
	*ulPeakSetting = aulSharpnessPeakingPairs[uiTableId][1];
}


/*************************************************************************
 *  {secret}
 *	BVDC_P_Sharpness_Calculate_Gain_Value
 *	Calculate LUMA_Control.gain values from sSharpness value
 *	for TNT_CMP_0_V0_LUMA_CONTROL_GAIN
 **************************************************************************/
void BVDC_P_Sharpness_Calculate_Gain_Value
	( const int16_t     sSharpness,
	  const int16_t     sMinGain,
	  const int16_t     sCenterGain,
	  const int16_t     sMaxGain,
	  uint32_t         *ulSharpnessGain )
{
	const int32_t  sMaxValue    = BVDC_P_SHARPNESS_VAL_MAX;
	const int32_t  sMinValue    = BVDC_P_SHARPNESS_VAL_MIN;
	const int32_t  sCenterValue = 0;

	/* this is a linear mapping from [-32768...0...32767] to [0...sCenterGain...sMaxGain] */
	*ulSharpnessGain = (sSharpness>0)?
		((sSharpness - sCenterValue) * (sMaxGain - sCenterGain) / (sMaxValue - sCenterValue) + sCenterGain) :
		((sSharpness - sCenterValue) * (sMinGain - sCenterGain) / (sMinValue - sCenterValue) + sCenterGain);

}

/* End of File */
